var buttonColours=["red","blue","green","yellow"],gamePattern=[],userClickedPattern=[],started=!1,level=0,timeoutInterval=500;function initGame(){$("#start-btn").click(startGame),$("#restart-btn").click(startGame),$(".btn").click(function(){if(started){var e=$(this).attr("id");userClickedPattern.push(e),playSound(e),animatePress(e),checkAnswer(userClickedPattern.length-1)}})}function startGame(){$("#starting-page, #ending-page").hide(),$("#copyright").hide(),$("#game-container").show(),$("#level-title").text("Level 1"),started=!0,level=0,gamePattern=[],nextSequence()}function nextSequence(){userClickedPattern=[],level++,$("#level-title").text("Level "+level);var e=buttonColours[Math.floor(4*Math.random())];gamePattern.push(e),animateSequence()}function checkAnswer(e){gamePattern[e]===userClickedPattern[e]?userClickedPattern.length===gamePattern.length&&setTimeout(nextSequence,timeoutInterval):(playSound("wrong"),startOver())}function animateSequence(){var e=0,t=setInterval(function(){$("#"+gamePattern[e]).fadeIn(100).fadeOut(100).fadeIn(100),playSound(gamePattern[e]),++e>=gamePattern.length&&clearInterval(t)},timeoutInterval)}function animatePress(e){$("#"+e).addClass("pressed"),setTimeout(function(){$("#"+e).removeClass("pressed")},100)}function playSound(e){new Audio("sounds/"+e+".mp3").play()}function startOver(){$("#ending-page").find("h1").text("Your score: "+(level-1)),$("#game-container").hide(),$("#ending-page").show(),started=!1}$(document).ready(initGame);
